<?xml version="1.0" encoding="utf-8"?>
<templates id="template" xml:space="preserve">
    <t t-name="OrderReceipt" t-inherit="point_of_sale.OrderReceipt" t-inherit-mode="extension" owl="1">
        <xpath expr="//div[hasclass('pos-receipt')]" position="replace">

        <!--<t t-jquery="." t-operation="replace">-->
            <div class="pos-sale-ticket" style="margin-right:35px">
                <div class="pos-receipt" style="text-align:left;align:center;margin-right: 180px" dir="ltr">
                    <t t-if='receipt.company.logo'>
                        <img class="pos-receipt-logo" t-att-src='receipt.company.logo' alt="Logo" align='center'/>
                        <br/>
                    </t>
                    <span> فاتورة ضريبية مبسطة </span>
                    <span> SIMPLIFIED TAX INVOICE </span>
                    <br/>
                    <t t-if='!receipt.company.logo'>
                        <h2 class="pos-receipt-center-align">
                            <t t-esc='receipt.company.name'/>
                        </h2>
                        <br/>
                    </t>
                    <div class="pos-receipt-contact">
                        <t t-if='receipt.company.contact_address'>
                            <div>
                                <t t-esc='receipt.company.contact_address'/>
                            </div>
                        </t>
                        <t t-if='receipt.company.phone'>
                            <div>Tel:
                                <t t-esc='receipt.company.phone'/>
                            </div>
                        </t>
                        <t t-if='receipt.company.vat'>
                            <div>
                                <t t-esc='receipt.company.vat_label'/>
                                :
                                <t t-esc='receipt.company.vat'/>
                            </div>
                        </t>
                        <t t-if='receipt.company.email'>
                            <div>
                                <t t-esc='receipt.company.email'/>
                            </div>
                        </t>
                        <t t-if='receipt.company.website'>
                            <div>
                                <t t-esc='receipt.company.website'/>
                            </div>
                        </t>
                        <t t-if='receipt.header_html'>
                            <t t-raw='receipt.header_html'/>
                        </t>
                        <t t-if='!receipt.header_html and receipt.header'>
                            <div>
                                <t t-esc='receipt.header'/>
                            </div>
                        </t>
                        <!--<t t-if='pos.config.branch_name'>-->
                            <!--<div class='branch'>-->
                                <!--<div>-->
                                    <!--<t t-esc='pos.config.branch_name'/>-->
                                <!--</div>-->
                            <!--</div>-->
                        <!--</t>-->
                        <!--<t t-if='pos.config.branch_address'>-->
                            <!--<div class='branch'>-->
                                <!--<div>-->
                                    <!--<t t-esc='pos.config.branch_address'/>-->
                                <!--</div>-->
                            <!--</div>-->
                        <!--</t>-->
                        <t t-if='receipt.cashier'>
                            <div class='cashier'>
                                <div>--------------------------------</div>
                                <div>Served by
                                    <t t-esc='receipt.cashier'/>
                                </div>
                            </div>
                        </t>

                    </div>
                </div>

                <table style="margin-top:5pt;padding:5pt;border-bottom:1pt dashed black;font-size:9pt;text-align:left;align:center;margin-right:70px"
                       width="75%" dir="ltr">

                    <tr align='left'>
                        <th align='left'
                            style=" dashed black;vertical-align:bottom; margin-bottom:5pt;padding-bottom:3pt;">
                            <strong>
                                الاجمالي شامل الضريبة
                            </strong>
                        </th>
                        <th align='left'
                            style=" dashed black;vertical-align:bottom; margin-bottom:5pt;padding-bottom:3pt;">
                            <strong>
                                السعر شامل الضريبة
                            </strong>
                        </th>
                        <th align='left'
                            style=" dashed black;vertical-align:bottom;text-align:left;margin-bottom:5pt;padding-bottom:3pt">
                            <strong>
                                الكمية
                            </strong>
                        </th>
                        <th align='left'
                            style=" dashed black;vertical-align:bottom;text-align:right;margin-bottom:5pt;padding-bottom:3pt">
                            <strong>
                                اسم الصنف
                            </strong>
                        </th>
                    </tr>
                    <tr align='left'>
                        <th align='left'
                            style="border-bottom:1pt dashed black;vertical-align:bottom; margin-bottom:5pt;padding-bottom:3pt;">
                            <strong>
                                Total
                            </strong>
                        </th>
                        <th style="border-bottom:1pt dashed black;vertical-align:bottom; margin-bottom:5pt;padding-bottom:3pt;">
                            <strong>
                                U.price
                            </strong>
                        </th>
                        <th style="border-bottom:1pt dashed black;vertical-align:bottom;text-align:left;margin-bottom:5pt;padding-bottom:3pt">
                            <strong>
                                QTY
                            </strong>
                        </th>
                        <th width='50%'
                            style="border-bottom:1pt dashed black;vertical-align:bottom;text-align:right;margin-bottom:5pt;padding-bottom:3pt">
                            <strong>
                                Item Name
                            </strong>
                        </th>
                    </tr>

                    <t t-set="total_discount" t-value="0"/>
                    <tr t-foreach="orderlines" t-as="orderline" style="margin-top:5pt">
                        <t t-if="orderline.get_display_price() > 0">
                            <td style="padding-bottom:3pt;padding-top:2pt;vertical-align:top">
                                <!-- <t t-set="total_price" t-value="0"/>
                    <t t-set="total_price" t-value="total_price + (orderline.get_product().lst_price) * (orderline.get_quantity())"/> -->
                                <!-- <t t-esc="(widget.format_currency_no_symbol(total_price))"/> -->
                                <t t-esc="(widget.format_currency_with_two_decimal(orderline.get_unit_price() * orderline.get_quantity()))"/>

                            </td>
                            <td style="padding-bottom:3pt;padding-top:2pt;vertical-align:top">
                                <!--<t t-esc="(widget.format_currency_with_two_decimal(orderline.get_unit_price()))"/>-->
                                <t t-esc="(widget.format_currency_with_two_decimal(orderline.get_product().lst_price))"/>

                            </td>
                            <td style="padding-bottom:3pt;padding-top:2pt;vertical-align:top" class="pos-left-align">
                                <t t-esc="widget.format_currency_no_symbol(orderline.get_quantity(),'Product Price')"/>
                            </td>
                            <td width='50%'
                                style="text-align:right;padding-bottom:3pt;padding-top:2pt;vertical-align:top">
                                <t t-esc="orderline.get_product().display_name"/>
                            </td>
                        </t>
                    </tr>
                </table>

                <table style="border-bottom:1pt dashed black;font-size:9pt;text-align:left;margin-right:70px"
                       class='receipt-total' algin="left" width="75%" dir="ltr">
                    <colgroup align='left'>
                        <col width='24%' align='left'/>
                        <col width='1%' align='left'/>
                        <col width='56%' align='left'/>
                        <col width='1%' align='left'/>
                        <col width='18%' align='left'/>
                    </colgroup>
                    <tr align='left'>
                        <td style="padding-bottom:5pt;padding-top:5pt">TOTAL Items</td>
                        <td style="padding-bottom:5pt;padding-top:5pt">:</td>
                        <td style="text-align:center;padding-bottom:5pt;padding-top:5pt;padding-right:6pt">
                            <t t-set="total_qty" t-value="0"/>
                            <t t-foreach="orderlines" t-as="orderline" style="margin-top:5pt">
                                <t t-if="orderline.get_display_price() > 0">
                                    <t>
                                        <t t-set="total_qty" t-value="total_qty + 1"/>
                                    </t>
                                </t>
                            </t>
                            <span t-esc="total_qty"/>
                        </td>
                        <td style="padding-bottom:5pt;padding-top:5pt">:</td>
                        <td style="text-align:right;padding-bottom:5pt;padding-top:5pt">مجموع الاصناف</td>
                    </tr>
                    <t t-foreach="order.get_tax_details()" t-as="taxdetail">
                        <tr>
                            <td style="padding-bottom:5pt;padding-top:5pt">Gross Total</td>
                            <td style="padding-bottom:5pt;padding-top:5pt">:</td>
                            <td style="text-align:center;padding-bottom:5pt;padding-top:5pt;padding-right:6pt">
                                <t t-set="total_before_dicount" t-value="0"/>
                                <t t-set="total_tax" t-value="taxdetail.amount"/>


                                <t t-set="total_discount" t-value="0"/>
                                <t t-foreach="orderlines" t-as="orderline" style="margin-top:5pt">
                                    <t t-if="orderline.get_unit_price() > 0">
                                        <t t-set="total_before_dicount"
                                           t-value="total_before_dicount + ( orderline.get_unit_price() *  orderline.get_quantity())"/>
                                    </t>
                                </t>

                                <t t-set="total_tax_amount" t-value="total_before_dicount - taxdetail.amount"/>
                                <span t-esc="((widget.format_currency_with_two_decimal(total_before_dicount))) "/>

                            </td>
                            <td style="padding-bottom:5pt;padding-top:5pt">:</td>
                            <td style="text-align:right;padding-bottom:5pt;padding-top:5pt">المبلغ الاجمالي</td>
                        </tr>
                    </t>
                    <t t-foreach="orderlines" t-as="orderline" style="margin-top:5pt">
                        <t t-if="orderline.get_display_price() &lt; 0">
                            <tr>
                                <td style="padding-bottom:5pt;padding-top:5pt">TOTAL DISCOUNT</td>
                                <td style="padding-bottom:5pt;padding-top:5pt">:</td>
                                <td style="text-align:center;padding-bottom:5pt;padding-top:5pt;padding-right:6pt">
                                    <t t-foreach="orderlines" t-as="orderline" style="margin-top:5pt">
                                        <t t-if="orderline.get_display_price() &lt; 0">
                                            <t t-esc="widget.format_with_two_decimal(orderline.get_display_price())"/>
                                            <!-- <span t-esc="widget.format_currency(total_discount)"/> -->
                                        </t>
                                    </t>
                                </td>
                                <td style="padding-bottom:5pt;padding-top:5pt">:</td>
                                <td style="text-align:right;padding-bottom:5pt;padding-top:5pt">الخصم الكلي</td>
                            </tr>
                        </t>
                    </t>
                    <t t-foreach="orderlines" t-as="orderline" style="margin-top:5pt">
                        <t t-if="orderline.get_display_price() &lt; 0">
                            <tr style="border-bottom:1pt dashed black">
                                <td style="padding-bottom:5pt;">NET Total</td>
                                <td style="padding-bottom:5pt">:</td>
                                <td style="font-weight:bold;text-align:center;padding-bottom:5pt;padding-right:6pt">
                                    <t t-esc="widget.format_with_two_decimal(order.get_total_with_tax()) "/>
                                </td>
                                <td style="padding-bottom:5pt">:</td>
                                <td style="text-align:right;padding-bottom:5pt">صافي الاجمالي</td>
                            </tr>
                        </t>
                    </t>
                    <t t-foreach="order.get_tax_details()" t-as="taxdetail">
                        <tr>
                            <td style="padding-bottom:5pt;padding-top:5pt">Net Amount</td>
                            <td style="padding-bottom:5pt;padding-top:5pt">:</td>
                            <td style="text-align:center;padding-bottom:5pt;padding-top:5pt;padding-right:6pt">
                                <t t-set="total_before_dicount" t-value="0"/>
                                <t t-set="total_tax" t-value="taxdetail.amount"/>


                                <t t-set="total_discount" t-value="0"/>
                                <t t-foreach="orderlines" t-as="orderline" style="margin-top:5pt">
                                    <t t-if="orderline.get_display_price() > 0">
                                        <t t-set="total_before_dicount"
                                           t-value="total_before_dicount + (((orderline.get_product().lst_price)*orderline.get_quantity()))"/>
                                    </t>
                                </t>

                                <t t-set="total_tax_amount" t-value="order.get_total_with_tax() - taxdetail.amount"/>
                                <t t-if="total_tax_amount > 0">
                                    <span t-esc="(widget.format_currency_with_two_decimal(total_tax_amount)) "/>
                                </t>
                            </td>
                            <td style="padding-bottom:5pt;padding-top:5pt">:</td>
                            <td style="text-align:right;padding-bottom:5pt;padding-top:5pt">صافي المبلغ قبل الضريبة</td>
                        </tr>
                    </t>
                    <t t-foreach="order.get_tax_details()" t-as="taxdetail">
                        <tr>
                            <td style="padding-bottom:5pt;padding-top:5pt">
                                <t t-esc="taxdetail.name"/>
                            </td>
                            <td style="padding-bottom:5pt;padding-top:5pt">:</td>
                            <td style="text-align:center;padding-bottom:5pt;padding-top:5pt;padding-right:6pt">
                                <t t-esc="widget.format_with_two_decimal(taxdetail.amount)"/>
                            </td>
                            <td style="padding-bottom:5pt;padding-top:5pt">:</td>
                            <td style="text-align:right;padding-bottom:5pt;padding-top:5pt">ضريبةالقيمة المضافة</td>
                        </tr>
                    </t>
                    <tr>
                        <t t-if="order.get_total_discount() > 0">
                            <td>Discount</td>
                            <td>:</td>
                            <td style="text-align:center;padding-right:6pt">
                                <t t-esc="widget.format_with_two_decimal(order.get_total_discount())"/>
                            </td>
                            <td>:</td>
                            <td style="text-align:right">خصم</td>
                        </t>
                    </tr>

                    <t t-foreach="paymentlines" t-as="line">
                        <tr>
                            <td style="vertical-align:bottom">
                                <t t-esc="line.name"/>

                                <br/>
                                RECEIVED
                            </td>
                            <td style="vertical-align:bottom">:</td>
                            <td style="text-align:center;vertical-align:bottom;padding-right:6pt"
                                class="pos-right-align">
                                <t t-esc="widget.format_with_two_decimal(line.get_amount())"/>
                            </td>
                            <td style="vertical-align:bottom">:</td>
                            <td style="text-align:right;vertical-align:bottom">استلم</td>
                        </tr>
                    </t>
                    <tr>
                        <td style="padding-bottom:5pt">CHANGE</td>
                        <td style="padding-bottom:5pt">:</td>
                        <td style="text-align:center;padding-bottom:5pt;padding-right:6pt" class="pos-right-align">
                            <t t-esc="widget.format_with_two_decimal(order.get_change())"/>
                        </td>
                        <td style="padding-bottom:5pt">:</td>
                        <td style="padding-bottom:5pt;text-align:right">الباقي</td>
                    </tr>
                </table>
                <!--<br/>-->
                <!--<div t-if='receipt.footer_html' class="pos-receipt-center-align" style="margin-right: 35px;">-->
                    <!--<t t-raw='receipt.footer_html'/>-->
                <!--</div>-->

                <!--<div t-if='!receipt.footer_html and receipt.footer' class="pos-receipt-center-align"-->
                     <!--style="white-space:pre-line;margin-right: 35px;">-->
                    <!--<t t-esc='receipt.footer'/>-->
                <!--</div>-->
                <!--<br/>-->

                <!--<div t-if='receipt.footer_html' class="pos-receipt-center-align" style="margin-right: 35px;">-->
                    <!--<t t-raw='receipt.footer_html'/>-->
                <!--</div>-->

                <!--<div t-if='!receipt.footer_html and receipt.footer' class="pos-receipt-center-align"-->
                     <!--style="white-space:pre-line;margin-right: 35px;">-->
                    <!--<t t-esc='receipt.footer'/>-->
                <!--</div>-->
                <!--<br/>-->

                <!--<div class='after-footer' style="margin-right: 35px;">-->
                    <!--<t t-foreach='paymentlines' t-as='line'>-->
                        <!--<t t-if='line.ticket'>-->
                            <!--<br/>-->
                            <!--<div class="pos-payment-terminal-receipt" align='center'>-->
                                <!--<t t-raw='line.ticket'/>-->
                            <!--</div>-->
                        <!--</t>-->
                    <!--</t>-->
                <!--</div>-->
                <!--<br/>-->

                <!--<div style="text-align:left;align:center;margin-right: 120px;">-->
                    <!--<t if="receipt.is_gcc_country">-->
                <!--<t t-esc="receipt.qr_code"/>-->
                <!--<div id="qrcode" style="width: 100%; height: 200px; margin: 10px auto; text-align: center; margin-left: 3rem;"></div>-->
                <!--<br/>-->
                        <!--<div t-if="receipt.qr_code" id="qrcode" class="pos-receipt-logo"/>-->
                        <!--<br/>-->
                    <!--</t>-->
                    <!--<div id="qrcode" style="align:center;margin-right: 70px;width:100%; height:200px; margin-bottom:10px;"></div>-->
                <!--</div>-->
                <div t-if="receipt.qr_code" id="qrcode" class="pos-receipt-logo"/>

                <table style="margin-top:5pt;padding:5pt;border-bottom:1pt dashed black;font-size:9pt;margin-right:70px;text-align:left;"
                       class='receipt-total' width="75%">
                    <tr>
                        <th align='center'
                            style=" dashed black;vertical-align:bottom; margin-bottom:5pt;padding-bottom:3pt;">
                            حب الوطن هوية
                        </th>
                    </tr>

                    <tr>
                        <th align='center'
                            style=" dashed black;vertical-align:bottom; margin-bottom:5pt;padding-bottom:3pt;">
                            <t t-esc='receipt.name'/>
                        </th>
                    </tr>
                    <tr>
                        <th align='center' width="75%"
                            style="border-bottom:1pt dashed black;vertical-align:bottom; margin-bottom:5pt;padding-bottom:3pt;">
                            <t t-esc='receipt.date.localestring'/>
                        </th>
                    </tr>
                </table>
                <div>

                </div>

            </div>
        </xpath>
    </t>
</templates>
