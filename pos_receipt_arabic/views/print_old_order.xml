<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <template id="assets_backend" name="pos_receipt_arabic assets" inherit_id="point_of_sale.assets">
            <xpath expr="." position="inside">
                <link rel="stylesheet" href="/pos_receipt_arabic/static/src/css/aarsol.css"/>
            </xpath>
        </template>


        <record id="paperformat_custom_return" model="report.paperformat">
            <field name="name">Custom return Paperformat</field>
            <field name="default" eval="False"/>
            <field name="format">custom</field>
            <field name="page_height">250</field>
            <field name="page_width">75</field>
            <field name="orientation">Portrait</field>
            <field name="margin_top">0</field>
            <field name="margin_bottom">0</field>
            <field name="margin_left">0</field>
            <!--<field name="margin">0</field>-->
            <field name="margin_right">0</field>
            <field name="dpi">90</field>
        </record>

        <report
                string="Receipt"
                id="action_custom_receipt_return"
                model="pos.order"
                report_type="qweb-pdf"
                paperformat="pos_receipt_arabic.paperformat_custom_return"
                name="pos_receipt_arabic.report_receipt_return"
                file="pos_receipt_arabic.report_receipt_return"
        />
        <template id="report_receipt_return">
            <t t-call="web.html_container">
                <t t-call="web.external_layout">
                    <t t-foreach="docs" t-as="receipt">
                        <div class="page">
                            <div class="pos-sale-ticket" style="align:center">
                                <div class="pos-receipt" style="margin-right: 60px;">
                                    <t t-if='receipt.company_id.logo'>
                                        <img class="pos-receipt-logo" t-att-src="image_data_uri(receipt.company_id.logo)" alt="Logo" width="30px"
                                             align='center'/>
                                        <br/>
                                    </t>
                                    <!--<t t-if='receipt.company_id.logo'>-->
                                        <!--<h2 class="pos-receipt-center-align">-->
                                            <!--<t t-esc='receipt.company_id.name'/>-->
                                        <!--</h2>-->
                                        <!--<br/>-->
                                    <!--</t>-->
                                    <div class="pos-receipt-contact">
                                        <t t-if='receipt.company_id.street'>
                                            <div>
                                                <t t-esc='receipt.company_id.street'/>
                                            </div>
                                        </t>
                                        <t t-if='receipt.company_id.phone'>
                                            <div>Tel:
                                                <t t-esc='receipt.company_id.phone'/>
                                            </div>
                                        </t>
                                        <t t-if='receipt.company_id.vat'>
                                            <div>
                                                VAT :
                                            </div>
                                        </t>
                                        <t t-if='receipt.company_id.email'>
                                            <div>
                                                <t t-esc='receipt.company_id.email'/>
                                            </div>
                                        </t>
                                        <t t-if='receipt.company_id.website'>
                                            <div>
                                                <t t-esc='receipt.company_id.website'/>
                                            </div>
                                        </t>
                                        <!--<t t-if='receipt.header_html'>-->
                                            <!--<t t-raw='receipt.header_html'/>-->
                                        <!--</t>-->
                                        <!--<t t-if='!receipt.header_html and receipt.header'>-->
                                            <!--<div>-->
                                                <!--<t t-esc='receipt.header'/>-->
                                            <!--</div>-->
                                        <!--</t>-->
                                        <t t-if='receipt.branch_id'>
                                            <div class='branch'>
                                                <div>
                                                    <t t-esc='receipt.branch_id.name'/>
                                                </div>
                                            </div>
                                        </t>
                                        <t t-if='receipt.branch_id.address'>
                                            <div class='branch'>
                                                <div>
                                                    <t t-esc='receipt.branch_id.address'/>
                                                </div>
                                            </div>
                                        </t>
                                        <t t-if='receipt.user_id'>
                                            <div class='cashier'>
                                                <div>--------------------------------</div>
                                                <div>Served by
                                                    <t t-esc='receipt.user_id.name'/>
                                                </div>
                                            </div>
                                        </t>

                                    </div>
                                </div>

                                <table style="margin-top:5pt;padding:5pt;border-bottom:1pt dashed black;font-size:9pt"
                                       width="75%">

                                    <tr>
                                        <th style=" dashed black;vertical-align:bottom; margin-bottom:5pt;padding-bottom:3pt;">
                                            <strong>
                                                الاجمالي شامل الضريبة
                                            </strong>
                                        </th>
                                        <th style=" dashed black;vertical-align:bottom; margin-bottom:5pt;padding-bottom:3pt;">
                                            <strong>
                                                السعر شامل الضريبة
                                            </strong>
                                        </th>
                                        <th style=" dashed black;vertical-align:bottom;text-align:left;margin-bottom:5pt;padding-bottom:3pt">
                                            <strong>
                                                الكمية
                                            </strong>
                                        </th>
                                        <th style=" dashed black;vertical-align:bottom;text-align:right;margin-bottom:5pt;padding-bottom:3pt">
                                            <strong>
                                                اسم الصنف
                                            </strong>
                                        </th>
                                    </tr>
                                    <tr>
                                        <th style="border-bottom:1pt dashed black;vertical-align:bottom; margin-bottom:5pt;padding-bottom:3pt;">
                                            <strong>
                                                Total
                                            </strong>
                                        </th>
                                        <th style="border-bottom:1pt dashed black;vertical-align:bottom; margin-bottom:5pt;padding-bottom:3pt;">
                                            <strong>
                                                U.price
                                            </strong>
                                        </th>
                                        <th style="border-bottom:1pt dashed black;vertical-align:bottom;text-align:left;margin-bottom:5pt;padding-bottom:3pt">
                                            <strong>
                                                QTY
                                            </strong>
                                        </th>
                                        <th width='50%'
                                            style="border-bottom:1pt dashed black;vertical-align:bottom;text-align:right;margin-bottom:5pt;padding-bottom:3pt">
                                            <strong>
                                                Item Name
                                            </strong>
                                        </th>
                                    </tr>

                                    <t t-set="total_discount" t-value="0"/>
                                    <t t-set="i" t-value="0"/>
                                    <t t-set="y" t-value="0"/>
                                    <tr t-foreach="receipt.lines" t-as="orderline" style="margin-top:5pt">
                                        <td style="padding-bottom:3pt;padding-top:2pt;vertical-align:top">
                                            <t t-esc="'%.2f'% orderline.price_subtotal_incl"/>
                                        </td>
                                        <td style="padding-bottom:3pt;padding-top:2pt;vertical-align:top">
                                            <t t-esc="'%.2f'% orderline.price_unit"/>

                                        </td>
                                        <td style="padding-bottom:3pt;padding-top:2pt;vertical-align:top"
                                            class="pos-left-align">
                                            <t t-esc="'%.2f'% orderline.qty"/>
                                        </td>
                                        <td width='50%'
                                            style="text-align:right;padding-bottom:3pt;padding-top:2pt;vertical-align:top">
                                            <div align="center">
                                                <t t-esc="orderline.product_id.name"/>
                                            </div>
                                        </td>
                                        <t t-set="i" t-value="i + orderline.price_subtotal_incl"/>
                                        <t t-set="y" t-value="y + orderline.qty"/>
                                    </tr>
                                </table>

                                <table style="border-bottom:1pt dashed black;font-size:9pt" class='receipt-total'
                                       width="75%" dir="rtl">
                                    <colgroup>
                                        <col width='24%'/>
                                        <col width='1%'/>
                                        <col width='56%'/>
                                        <col width='1%'/>
                                        <col width='18%'/>
                                    </colgroup>
                                    <tr>
                                        <td style="padding-bottom:5pt;padding-top:5pt">TOTAL Items</td>
                                        <td style="padding-bottom:5pt;padding-top:5pt">:</td>
                                        <td style="text-align:center;padding-bottom:5pt;padding-top:5pt;padding-right:6pt">
                                            <t t-esc="'%.2f'% y"/>
                                        </td>
                                        <td style="padding-bottom:5pt;padding-top:5pt">:</td>
                                        <td style="text-align:right;padding-bottom:5pt;padding-top:5pt">مجموع الاصناف
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="padding-bottom:5pt;padding-top:5pt">Gross Total</td>
                                        <td style="padding-bottom:5pt;padding-top:5pt">:</td>
                                        <td style="text-align:center;padding-bottom:5pt;padding-top:5pt;padding-right:6pt">
                                            <t t-esc="'%.2f'% i"/>
                                        </td>
                                        <td style="padding-bottom:5pt;padding-top:5pt">:</td>
                                        <td style="text-align:right;padding-bottom:5pt;padding-top:5pt">المبلغ
                                            الاجمالي
                                        </td>
                                    </tr>
                                    <t t-foreach="orderlines" t-as="orderline" style="margin-top:5pt">
                                        <t t-if="orderline.get_display_price() &lt; 0">
                                            <tr style="border-bottom:1pt dashed black">
                                                <td style="padding-bottom:5pt;">NET Total</td>
                                                <td style="padding-bottom:5pt">:</td>
                                                <td style="font-weight:bold;text-align:center;padding-bottom:5pt;padding-right:6pt">
                                                    <t t-esc="'%.2f'% receipt.amount_total"/>
                                                </td>
                                                <td style="padding-bottom:5pt">:</td>
                                                <td style="text-align:right;padding-bottom:5pt">صافي الاجمالي</td>
                                            </tr>
                                        </t>
                                    </t>
                                    <tr>
                                        <td style="padding-bottom:5pt;padding-top:5pt">Net Amount</td>
                                        <td style="padding-bottom:5pt;padding-top:5pt">:</td>
                                        <td style="text-align:center;padding-bottom:5pt;padding-top:5pt;padding-right:6pt">
                                            <t t-set="total_before_tax"
                                               t-value="receipt.amount_total - receipt.amount_tax"/>
                                            <t t-esc="'%.2f'% total_before_tax"/>

                                        </td>
                                        <td style="padding-bottom:5pt;padding-top:5pt">:</td>
                                        <td style="text-align:right;padding-bottom:5pt;padding-top:5pt">صافي المبلغ
                                            قبل الضريبة
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="padding-bottom:5pt;padding-top:5pt">
                                            VAT
                                        </td>
                                        <td style="padding-bottom:5pt;padding-top:5pt">:</td>
                                        <td style="text-align:center;padding-bottom:5pt;padding-top:5pt;padding-right:6pt">
                                            <t t-esc="'%.2f'% receipt.amount_tax"/>
                                        </td>
                                        <td style="padding-bottom:5pt;padding-top:5pt">:</td>
                                        <td style="text-align:right;padding-bottom:5pt;padding-top:5pt">ضريبةالقيمة
                                            المضافة
                                        </td>
                                    </tr>
                                </table>
                                <br/>

                                <br/>

                                <table style="margin-top:5pt;padding:5pt;border-bottom:1pt dashed black;font-size:9pt;margin-right: 30px;"
                                       class='receipt-orderlines' width="75%">
                                    <tr>
                                        <th align='center' width="100%"
                                            style=" dashed black;vertical-align:bottom; margin-bottom:5pt;padding-bottom:3pt;">
                                            حب الوطن هوية
                                        </th>
                                    </tr>

                                    <tr>
                                        <th align='center' width="100%"
                                            style=" dashed black;vertical-align:bottom; margin-bottom:5pt;padding-bottom:3pt;">
                                            <t t-esc='receipt.name'/>
                                        </th>
                                    </tr>
                                    <tr>
                                        <th align='center' width="100%"
                                            style="border-bottom:1pt dashed black;vertical-align:bottom; margin-bottom:5pt;padding-bottom:3pt;">
                                            <t t-esc='receipt.date_order'/>
                                        </th>
                                    </tr>
                                </table>

                            </div>
                        </div>
                    </t>
                </t>
            </t>
        </template>
    </data>
</odoo>